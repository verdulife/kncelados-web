---
import Logo from "@/lib/assets/Logo.astro";
import Menu from "@/lib/assets/Menu.astro";
---

<header
  class="fixed left-0 top-0 z-50 flex w-full justify-center lg:absolute"
  transition:persist
>
  <nav class="flex w-full items-center justify-between text-gray-50 lg:px-14">
    <a href="/" class="z-10 p-6">
      <Logo class="w-14 lg:w-20" />
      <span class="sr-only">kncelados</span>
    </a>

    <ul
      id="nav-links"
      class=`
        opacity-0 pointer-events-none fixed inset-0 flex flex-col bottom-full
        bg-knc-dark pt-36 transition-all duration-500 lg:pointer-events-auto
        lg:static lg:flex-row lg:bg-transparent lg:bg-none lg:pt-0 lg:opacity-100
      `
    >
      <li class="flex">
        <a
          href="/"
          class="w-full border-b border-knc-blue px-6 py-4 text-center text-2xl uppercase transition-colors hover:text-knc-red lg:w-auto lg:border-none lg:text-base"
        >
          Inicio
        </a>
      </li>

      <li class="flex">
        <a
          href="/podcast"
          class="w-full border-b border-knc-blue px-6 py-4 text-center text-2xl uppercase transition-colors hover:text-knc-red lg:w-auto lg:border-none lg:text-base"
        >
          Podcast
        </a>
      </li>

      <li class="flex">
        <a
          href="/shorts"
          class="w-full border-b border-knc-blue px-6 py-4 text-center text-2xl uppercase transition-colors hover:text-knc-red lg:w-auto lg:border-none lg:text-base"
        >
          Shorts
        </a>
      </li>

      <li class="flex">
        <a
          href="/tienda"
          class="w-full border-b border-knc-blue px-6 py-4 text-center text-2xl uppercase transition-colors hover:text-knc-red lg:w-auto lg:border-none lg:text-base"
        >
          Tienda
        </a>
      </li>

      <li class="flex">
        <a
          href="/contacto"
          class="w-full border-b border-knc-blue px-6 py-4 text-center text-2xl uppercase transition-colors hover:text-knc-red lg:w-auto lg:border-none lg:text-base"
        >
          Contacto
        </a>
      </li>
    </ul>

    <button id="nav-btn" class="z-10 p-6 transition-all lg:hidden"
      ><Menu class="size-8" /></button
    >
  </nav>
</header>

<style>
  .visible {
    bottom: 0;
    opacity: 1;
    pointer-events: all;
  }

  .active {
    rotate: 90deg;
  }
</style>

<script>
  function init_nav() {
    const navLinks = document.querySelector("#nav-links");
    const navBtn = document.querySelector("#nav-btn");

    if (!navLinks || !navBtn) return;

    const toggleNav = () => {
      navLinks.classList.toggle("visible");
      navBtn.classList.toggle("active");
    };

    navBtn.addEventListener("click", toggleNav);
    navLinks.addEventListener("click", toggleNav);
  }

  init_nav();
</script>
