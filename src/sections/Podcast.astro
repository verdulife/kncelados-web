---
import { seasons } from "@/lib/utils";
---

<section
  id="podcast"
  class="flex w-full flex-col gap-4 pt-20 text-center lg:py-24"
>
  {
    seasons.map((season, i) => (
      <div class="wrapper">
        {i !== 0 && (
          <div class="covers flex shrink-0 gap-5 md:mt-4">
            <ul class="flex shrink-0 gap-5">
              {season?.map(({ title, image }) => (
                <li>
                  <img
                    src={image}
                    alt={title}
                    width="228"
                    height="128"
                    loading="lazy"
                    decoding="async"
                  />
                </li>
              ))}
            </ul>

            <ul class="flex shrink-0 gap-5">
              {season?.map(({ title, image }) => (
                <li>
                  <img
                    src={image}
                    alt={title}
                    width="228"
                    height="128"
                    loading="lazy"
                    decoding="async"
                  />
                </li>
              ))}
            </ul>
          </div>
        )}

        {i === 1 && (
          <div class="title flex shrink-0">
            <h2 class="whitespace-nowrap px-4 text-[7rem] leading-none opacity-10 md:text-[12rem]">
              El podcast
            </h2>
            <h2 class="whitespace-nowrap px-4 text-[7rem] leading-none md:text-[12rem]">
              El podcast
            </h2>
            <h2 class="whitespace-nowrap px-4 text-[7rem] leading-none opacity-10 md:text-[12rem]">
              El podcast
            </h2>
          </div>
        )}
      </div>
    ))
  }

  <p class="mt-24 max-w-4xl self-center px-4 text-lg lg:text-2xl">
    Si te preguntas d칩nde ver el podcast de Kncelados, est치s en el lugar
    adecuado. Tanto en esta p치gina web, como en nuestro canal de YouTube
    encontrar치s todos los episodios.
  </p>

  <a
    href="/podcast"
    class="mt-10 min-w-48 self-center rounded-xl bg-knc-red px-8 py-3 transition-transform hover:scale-110"
  >
    Ver podcast
  </a>
</section>

<style is:global>
  #podcast .wrapper {
    mask-image: linear-gradient(
      to right,
      transparent,
      black 25%,
      black 75%,
      transparent
    );

    @media (max-width: 768px) {
      mask-image: none;
    }
  }

  #podcast .covers,
  #podcast .title {
    transform: translateX(0%);
    animation-name: marquee;
    animation-timing-function: linear;
    animation-fill-mode: both;
    animation-timeline: view();
    animation-range: 0% 150%;

    @media (max-width: 768px) {
      animation-name: marqueeMobile;
      animation-range: 0% 100%;
    }
  }

  #podcast .covers {
    animation-direction: reverse;
  }

  @keyframes marquee {
    to {
      transform: translateX(-100%);
    }
  }

  @keyframes marqueeMobile {
    to {
      transform: translateX(-300%);
    }
  }
</style>
