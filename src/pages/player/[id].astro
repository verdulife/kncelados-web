---
import Close from "@/lib/assets/Close.astro";
const { id } = Astro.params;
---

<main class="relative h-screen bg-black">
  {
    id && (
      <iframe
        width="100%"
        height="100%"
        src={`https://www.youtube.com/embed/${id}?autoplay=1`}
        allow="autoplay; encrypted-media; picture-in-picture; web-share"
        referrerpolicy="strict-origin-when-cross-origin"
        allowfullscreen
      />
    )
  }

  <div
    class="pointer-events-none absolute top-0 flex w-full justify-center p-4"
  >
    <button
      class="pointer-events-auto rounded-full bg-black/40 p-4 text-xl text-gray-50 backdrop-blur transition-transform hover:scale-110"
    >
      <Close class="size-6" />
    </button>
  </div>
</main>

<script>
  const button = document.querySelector("button");

  (function () {
    if (!button) return;
    button.addEventListener("click", () => history.back());
  })();
</script>
